{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/86139/Desktop/demo/test/pages/index1/index1.vue?38ff","webpack:///C:/Users/86139/Desktop/demo/test/pages/index1/index1.vue?238c","webpack:///C:/Users/86139/Desktop/demo/test/pages/index1/index1.vue?850a","webpack:///C:/Users/86139/Desktop/demo/test/pages/index1/index1.vue?8a05","uni-app:///pages/index1/index1.vue","webpack:///C:/Users/86139/Desktop/demo/test/pages/index1/index1.vue?58e8","webpack:///C:/Users/86139/Desktop/demo/test/pages/index1/index1.vue?d86d"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","selectedCountry","multiArray","multiIndex","provinceList","cityList","districtList","marketList","marketIdMap","selectedMarketIndex","area_id","market_id","overseasCountries","overseasCities","overseasCountryId","overseasCityId","computed","displayArray","displayMarketList","watch","mounted","methods","initializePicker","provinces","cities","areas","countries","console","fetchProvinces","api","level","limit","response","fetchCities","fetchAreas","fetchOverseas","fetchOverseasCities","selectCountry","country","bindMultiPickerColumnChange","column","value","selectedProvince","selectedCity","selectedContinent","bindMultiPickerChange","selectedCityIndex","selectedCityId","selectedCountryIndex","fetchMarkets","Limit","map","bindMarketChange","saveData","uni","title","icon","url","loadSavedData"],"mappings":"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","file":"pages/index1/index1.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/index1/index1.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index1.vue?vue&type=template&id=30cac634&\"\nvar renderjs\nimport script from \"./index1.vue?vue&type=script&lang=js&\"\nexport * from \"./index1.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index1.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/index1/index1.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index1.vue?vue&type=template&id=30cac634&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index1.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index1.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"me-container\">\r\n\t\t<view class=\"top\">\r\n\t\t\t乡愁宝大市场\r\n\t\t</view>\r\n\t\t<view class=\"region\">\r\n\t\t\t<view class=\"nation\">\r\n\t\t\t\t<view class=\"china\" :class=\"{ active: selectedCountry === 'china' }\" @click=\"selectCountry('china')\">中国\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"overseas\" :class=\"{ active: selectedCountry === 'overseas' }\"\r\n\t\t\t\t\t@click=\"selectCountry('overseas')\">海外</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"area\">\r\n\t\t\t\t<text>所在的地区</text>\r\n\t\t\t\t<picker class=\"picker\" mode=\"multiSelector\" :range=\"multiArray\" :value=\"multiIndex\"\r\n\t\t\t\t\t@change=\"bindMultiPickerChange\" @columnchange=\"bindMultiPickerColumnChange\">\r\n\t\t\t\t\t<view class=\"picker-text\">{{ multiArray[0][multiIndex[0]] }} - {{ multiArray[1][multiIndex[1]] }} -{{ selectedCountry === 'overseas' ? '' : multiArray[2][multiIndex[2]] }}\r\n\t\t\t\t\t\t<!-- {{ multiArray[2][multiIndex[2]] }} -->\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</picker>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"Address\">\r\n\t\t\t\t<text>选择菜市场</text>\r\n\t\t\t\t<picker class=\"picker\" mode=\"selector\" :range=\"displayMarketList\" :value=\"selectedMarketIndex\"\r\n\t\t\t\t\t@change=\"bindMarketChange\">\r\n\t\t\t\t\t<view class=\"picker-text\">{{ displayMarketList[selectedMarketIndex] }}</view>\r\n\t\t\t\t</picker>\r\n\t\t\t</view>\r\n\t\t\t<button class=\"save\" @click=\"saveData\">立即逛</button>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tapi\r\n\t} from '../../api/index.js';\r\n\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tselectedCountry: 'china',\r\n\t\t\t\tmultiArray: [\r\n\t\t\t\t\t[],\r\n\t\t\t\t\t[],\r\n\t\t\t\t\t[]\r\n\t\t\t\t],\r\n\t\t\t\tmultiIndex: [0, 0, 0],\r\n\t\t\t\tprovinceList: [],\r\n\t\t\t\tcityList: [],\r\n\t\t\t\tdistrictList: [],\r\n\t\t\t\tmarketList: [],\r\n\t\t\t\tmarketIdMap: {},\r\n\t\t\t\tselectedMarketIndex: 0,\r\n\t\t\t\tarea_id: null,\r\n\t\t\t\tmarket_id: null,\r\n\t\t\t\toverseasCountries: [],\r\n\t\t\t\toverseasCities: [],\r\n\t\t\t\toverseasCountryId: null,\r\n\t\t\t\toverseasCityId: null,\r\n\t\t\t};\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tdisplayArray() {\r\n\t\t\t\tif (this.selectedCountry === 'china') {\r\n\t\t\t\t\treturn [this.multiArray[0], this.multiArray[1], this.multiArray[2]];\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn [this.multiArray[0], this.multiArray[1],\r\n\t\t\t\t\t\t[]\r\n\t\t\t\t\t];\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdisplayMarketList() {\r\n\t\t\t\treturn this.selectedCountry === 'china' ? this.marketList : ['暂时还没有数据'];\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tselectedCountry(newCountry) {\r\n\t\t\t\tthis.selectCountry(newCountry);\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync mounted() {\r\n\t\t\tawait this.initializePicker(); // 组件加载时初始化数据\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tasync initializePicker() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (this.selectedCountry === 'china') {\r\n\t\t\t\t\t\tconst provinces = await this.fetchProvinces();\r\n\t\t\t\t\t\tthis.multiArray[0] = provinces.map(item => item.name);\r\n\t\t\t\t\t\tif (provinces.length > 0) {\r\n\t\t\t\t\t\t\tconst cities = await this.fetchCities(provinces[0].id);\r\n\t\t\t\t\t\t\tthis.multiArray[1] = cities.map(item => item.name);\r\n\t\t\t\t\t\t\tif (cities.length > 0) {\r\n\t\t\t\t\t\t\t\tconst areas = await this.fetchAreas(cities[0].id);\r\n\t\t\t\t\t\t\t\tthis.multiArray[2] = areas.map(item => item.name);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.multiIndex = [0, 0, 0];\r\n\t\t\t\t\t} else if (this.selectedCountry === 'overseas') {\r\n\t\t\t\t\t\tconst countries = await this.fetchOverseas();\r\n\t\t\t\t\t\tthis.multiArray[0] = countries.map(c => c.shortname);\r\n\t\t\t\t\t\tthis.multiArray[1] = [];\r\n\t\t\t\t\t\tthis.multiArray[2] = [];\r\n\t\t\t\t\t\tthis.multiIndex = [0, 0, 0];\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('Failed to initialize picker:', error);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync fetchProvinces() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst response = await api.citylist({\r\n\t\t\t\t\t\tlevel: 1,\r\n\t\t\t\t\t\tlimit: 100\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif (response.code === 200) {\r\n\t\t\t\t\t\tthis.provinceList = response.data.listdata;\r\n\t\t\t\t\t\treturn this.provinceList;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthrow new Error('Failed to fetch provinces');\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('Failed to fetch provinces:', error);\r\n\t\t\t\t\tthrow error;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync fetchCities(provinceId) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst response = await api.citytree(provinceId);\r\n\t\t\t\t\tif (response.code === 200 && Array.isArray(response.data)) {\r\n\t\t\t\t\t\tthis.cityList = response.data;\r\n\t\t\t\t\t\treturn response.data;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.error('No cities data found');\r\n\t\t\t\t\t\treturn [];\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('Failed to fetch cities:', error);\r\n\t\t\t\t\treturn [];\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync fetchAreas(cityId) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst response = await api.citytree(cityId);\r\n\t\t\t\t\tif (response.code === 200 && Array.isArray(response.data)) {\r\n\t\t\t\t\t\tthis.districtList = response.data;\r\n\t\t\t\t\t\treturn response.data;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.error('No areas data found');\r\n\t\t\t\t\t\treturn [];\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('Failed to fetch areas:', error);\r\n\t\t\t\t\treturn [];\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync fetchOverseas() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst response = await api.countrylist(0, 200, 1);\r\n\t\t\t\t\tif (response.code === 200) {\r\n\t\t\t\t\t\tthis.overseasCountries = response.data.listdata;\r\n\t\t\t\t\t\tthis.multiArray[0] = this.overseasCountries.map(c => c.shortname);\r\n\t\t\t\t\t\tthis.multiArray[1] = [];\r\n\t\t\t\t\t\tthis.multiArray[2] = [];\r\n\t\t\t\t\t\tthis.multiIndex = [0, 0, 0];\r\n\t\t\t\t\t\treturn this.overseasCountries;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthrow new Error('Failed to fetch overseas continents');\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('Failed to fetch overseas continents:', error);\r\n\t\t\t\t\tthrow error;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync fetchOverseasCities(continentId) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst response = await api.countrylist(continentId, 100, 1);\r\n\t\t\t\t\tif (response.code === 200) {\r\n\t\t\t\t\t\tthis.overseasCities = response.data.listdata;\r\n\t\t\t\t\t\tthis.multiArray[1] = this.overseasCities.map(c => c.shortname);\r\n\t\t\t\t\t\tthis.multiArray[2] = [];\r\n\t\t\t\t\t\tthis.multiIndex[1] = 0;\r\n\t\t\t\t\t\tthis.multiIndex[2] = 0;\r\n\t\t\t\t\t\treturn this.overseasCities;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthrow new Error('Failed to fetch overseas countries');\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('Failed to fetch overseas countries:', error);\r\n\t\t\t\t\tthrow error;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync selectCountry(country) {\r\n\t\t\t\tthis.selectedCountry = country;\r\n\t\t\t\tthis.multiArray = [\r\n\t\t\t\t\t[],\r\n\t\t\t\t\t[],\r\n\t\t\t\t\t[]\r\n\t\t\t\t];\r\n\t\t\t\tthis.marketList = [];\r\n\t\t\t\tthis.selectedMarketIndex = 0;\r\n\t\t\t\tthis.area_id = null;\r\n\t\t\t\tthis.market_id = null;\r\n\r\n\t\t\t\tif (country === 'china') {\r\n\t\t\t\t\tawait this.initializePicker();\r\n\t\t\t\t} else if (country === 'overseas') {\r\n\t\t\t\t\tawait this.fetchOverseas();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync bindMultiPickerColumnChange(e) {\r\n\t\t\t\tconst column = e.detail.column;\r\n\t\t\t\tconst value = e.detail.value;\r\n\r\n\t\t\t\tif (this.selectedCountry === 'china') {\r\n\t\t\t\t\tif (column === 0) {\r\n\t\t\t\t\t\tconst selectedProvince = this.provinceList[value];\r\n\t\t\t\t\t\tif (selectedProvince && selectedProvince.id !== undefined) {\r\n\t\t\t\t\t\t\tconst cities = await this.fetchCities(selectedProvince.id);\r\n\t\t\t\t\t\t\tthis.multiArray[1] = cities.map(item => item.name);\r\n\t\t\t\t\t\t\tif (cities.length > 0) {\r\n\t\t\t\t\t\t\t\tconst areas = await this.fetchAreas(cities[0].id);\r\n\t\t\t\t\t\t\t\tthis.multiArray[2] = areas.map(item => item.name);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.multiArray[2] = [];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.multiIndex[1] = 0;\r\n\t\t\t\t\t\tthis.multiIndex[2] = 0;\r\n\t\t\t\t\t} else if (column === 1) {\r\n\t\t\t\t\t\tconst selectedCity = this.cityList[value];\r\n\t\t\t\t\t\tif (selectedCity && selectedCity.id !== undefined) {\r\n\t\t\t\t\t\t\tconst areas = await this.fetchAreas(selectedCity.id);\r\n\t\t\t\t\t\t\tthis.multiArray[2] = areas.map(item => item.name);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.multiArray[2] = [];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.multiIndex[2] = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (this.selectedCountry === 'overseas') {\r\n\t\t\t\t\tif (column === 0) {\r\n\t\t\t\t\t\tconst selectedContinent = this.overseasCountries[value];\r\n\t\t\t\t\t\tif (selectedContinent && selectedContinent.id !== undefined) {\r\n\t\t\t\t\t\t\tawait this.fetchOverseasCities(selectedContinent.id);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.multiArray[2] = [];\r\n\t\t\t\t\t\tthis.multiIndex[1] = 0;\r\n\t\t\t\t\t\tthis.multiIndex[2] = 0;\r\n\t\t\t\t\t} else if (column === 1) {\r\n\t\t\t\t\t\tthis.multiArray[2] = [];\r\n\t\t\t\t\t\tthis.multiIndex[2] = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.multiIndex[column] = value;\r\n\t\t\t\tthis.multiIndex = [...this.multiIndex];\r\n\t\t\t},\r\n\t\t\tasync bindMultiPickerChange(e) {\r\n\t\t\t\tthis.multiIndex = e.detail.value;\r\n\t\t\t\tif (this.selectedCountry === 'china') {\r\n\t\t\t\t\tconst selectedCityIndex = this.multiIndex[1];\r\n\t\t\t\t\tconst selectedCityId = this.cityList[selectedCityIndex]?.id || null;\r\n\t\t\t\t\tif (selectedCityId) {\r\n\t\t\t\t\t\tawait this.fetchAreas(selectedCityId);\r\n\t\t\t\t\t\tthis.area_id = this.districtList[this.multiIndex[2]]?.id || null;\r\n\t\t\t\t\t\tawait this.fetchMarkets(this.area_id);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (this.selectedCountry === 'overseas') {\r\n\t\t\t\t\tconst selectedCountryIndex = this.multiIndex[0];\r\n\t\t\t\t\tthis.overseasCountryId = this.overseasCountries[selectedCountryIndex]?.id || null;\r\n\t\t\t\t\tconst selectedCityIndex = this.multiIndex[1];\r\n\t\t\t\t\tif (this.overseasCountryId) {\r\n\t\t\t\t\t\tawait this.fetchOverseasCities(this.overseasCountryId);\r\n\t\t\t\t\t\tthis.overseasCityId = this.overseasCities[selectedCityIndex]?.id || null;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync fetchMarkets(areaId) {\r\n\t\t\t\tconsole.log('请求市场数据的 areaId:', areaId); // 确认 areaId 是否正确\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst Limit = 100;\r\n\t\t\t\t\tconst response = await api.marketlist(areaId, Limit);\r\n\t\t\t\t\tif (response.code === 200 && Array.isArray(response.data.listdata)) {\r\n\t\t\t\t\t\tthis.marketList = response.data.listdata.map(item => item.marketname);\r\n\t\t\t\t\t\tthis.marketIdMap = response.data.listdata.reduce((map, item) => {\r\n\t\t\t\t\t\t\tmap[item.marketname] = item.id;\r\n\t\t\t\t\t\t\treturn map;\r\n\t\t\t\t\t\t}, {});\r\n\t\t\t\t\t\tconsole.log(this.marketList);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.error('No market data found');\r\n\t\t\t\t\t\tthis.marketList = [];\r\n\t\t\t\t\t\tthis.marketIdMap = {};\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('Failed to fetch markets:', error);\r\n\t\t\t\t\tthis.marketList = [];\r\n\t\t\t\t\tthis.marketIdMap = {};\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tbindMarketChange(e) {\r\n\t\t\t\tthis.selectedMarketIndex = e.detail.value;\r\n\t\t\t\tconst selectedMarket = this.marketList[this.selectedMarketIndex];\r\n\t\t\t\tthis.market_id = this.marketIdMap[selectedMarket] || null;\r\n\t\t\t},\r\n\t\t\tsaveData() {\r\n\t\t\t\tconst savedData = {\r\n\t\t\t\t\tmultiIndex: this.multiIndex,\r\n\t\t\t\t\tarea_id: this.area_id,\r\n\t\t\t\t\tmarket_id: this.market_id,\r\n\t\t\t\t\tselectedMarketIndex: this.selectedMarketIndex,\r\n\t\t\t\t};\r\n\t\t\t\t// console.log('Saving data:', savedData); // 这行可以帮助你调试\r\n\t\t\t\tuni.setStorageSync('userSelection', savedData);\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '正在加载',\r\n\t\t\t\t\ticon: 'success'\r\n\t\t\t\t});\r\n\t\t\t\tuni.switchTab({\r\n\t\t\t\t\turl: '/pages/index/index'\r\n\t\t\t\t});\r\n\r\n\t\t\t},\r\n\r\n\t\t\tloadSavedData() {\r\n\t\t\t\t// 加载保存的数据\r\n\t\t\t\tconst savedData = uni.getStorageSync('userSelection');\r\n\t\t\t\tif (savedData) {\r\n\t\t\t\t\tthis.multiIndex = savedData.multiIndex || [0, 0, 0];\r\n\t\t\t\t\tthis.area_id = savedData.area_id || null;\r\n\t\t\t\t\tthis.market_id = savedData.market_id || null;\r\n\t\t\t\t\tthis.selectedMarketIndex = savedData.selectedMarketIndex || 0;\r\n\r\n\t\t\t\t\t// 重新初始化选择器数据\r\n\t\t\t\t\tthis.initializePicker().then(() => {\r\n\t\t\t\t\t\tif (this.area_id && this.selectedCountry === 'china') {\r\n\t\t\t\t\t\t\tthis.fetchMarkets(this.area_id);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 如果没有保存的数据，初始化选择器\r\n\t\t\t\t\tthis.initializePicker();\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n\r\n\r\n\r\n\r\n<style>\r\n\t.me-container {\r\n\t\theight: 100vh;\r\n\t\toverflow: hidden;\r\n\t\twidth: 100%;\r\n\t\tbox-sizing: border-box;\r\n\t\tpadding: 0rpx 40rpx 0 40rpx;\r\n\t\tcolor: white;\r\n\t\tz-index: 1;\r\n\t\tbackground-color: #f8f8f8;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\t/* justify-content: center; */\r\n\t\talign-items: center;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.me-container::after {\r\n\t\tcontent: \"\";\r\n\t\twidth: 140%;\r\n\t\theight: 200px;\r\n\t\tposition: absolute;\r\n\t\tleft: -20%;\r\n\t\ttop: 0;\r\n\t\tz-index: -1;\r\n\t\tborder-radius: 0 0 50% 50%;\r\n\t\tbackground-image: linear-gradient(to right, #4facfe 0%, #00f2fe 100%);\r\n\t}\r\n\r\n\t.top {\t\r\n\t\tmargin: 10% auto;\r\n\t\tposition: absolute;\r\n\t\tfont-size: 56px;\r\n\t\tfont-weight: bold;\r\n\t\ttext-align: center;\r\n\t\t/*字体粗细*/\r\n\t\t/* -webkit-text-stroke: 1px #aa55ff; */\r\n\t\t-webkit-text-stroke: 1px white;\r\n\t\t/*描边*/\r\n\t\t-webkit-text-fill-color: transparent;\r\n\t\tmargin-top: 150rpx;\r\n\t}\r\n\r\n\t.region {\r\n\t\twidth: 650rpx;\r\n\t\theight: 520rpx;\r\n\t\t/* margin: auto auto; */\r\n\t\tmargin-top: 300rpx;\r\n\t\tpadding: 20rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: space-between;\r\n\t\t/* align-items: center;\t */\r\n\t\tbackground: rgba(255, 255, 255, 1);\r\n\t\t/* background-color: white; */\r\n\t\tbox-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);\r\n\t\tbackdrop-filter: blur(13.5px);\r\n\t\t-webkit-backdrop-filter: blur(13.5px);\r\n\t\tborder-radius: 10px;\r\n\t\tborder: 1px solid rgba(255, 255, 255, 0.18);\r\n\t}\r\n\r\n\t.nation {\r\n\t\theight: 100rpx;\r\n\t\twidth: 100%;\r\n\t\ttext-align: center;\r\n\t\tline-height: 100rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\t/* background-color: darkred; */\r\n\t\tborder-bottom: 1px solid #ccc;\r\n\t\tcolor: black;\r\n\t}\r\n\r\n\t.china {\r\n\t\tflex: 1;\r\n\t\tborder-right: 1px solid #ccc;\r\n\t\tcursor: pointer;\r\n\t\ttransition: all 0.3s;\r\n\t}\r\n\r\n\t.overseas {\r\n\t\tflex: 1;\r\n\t\tcursor: pointer;\r\n\t\ttransition: all 0.3s;\r\n\t}\r\n\r\n\t.active {\r\n\t\tfont-weight: bold;\r\n\t\tborder-bottom: 2px solid #007aff;\r\n\t}\r\n\r\n\t.area {\r\n\t\theight: 150rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\t/* justify-content: space-between; */\r\n\t\talign-items: center;\r\n\t\t/* margin: 0 20rpx; */\r\n\t\t/* padding: 0 20rpx; */\r\n\t\t/* margin-top: 30rpx; */\r\n\t\tborder-bottom: 1px solid #ccc;\r\n\t\t/* background-color: white; */\r\n\t}\r\n\r\n\t.area>text {\r\n\t\theight: 150rpx;\r\n\t\twidth: 200rpx;\r\n\t\tline-height: 150rpx;\r\n\t\ttext-align: left;\r\n\t\tcolor: black;\r\n\t\tfont-size: 28rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\tborder-right: 1px solid #ccc;\r\n\t\t/* background-color: antiquewhite; */\r\n\t}\r\n\r\n\t.picker {\r\n\t\theight: 150rpx;\r\n\t\twidth: 100%;\r\n\t\tcolor: black;\r\n\t\tline-height: 150rpx;\r\n\t\ttext-align: center;\r\n\t\tbox-sizing: border-box;\r\n\t\tfont-size: 30rpx;\r\n\t\tpadding: 0 10rpx;\r\n\t\toverflow: hidden;\r\n\t\t/* 隐藏超出部分 */\r\n\t}\r\n\r\n\t.picker-text {\r\n\t\twhite-space: nowrap;\r\n\t\t/* 禁止换行 */\r\n\t\toverflow: hidden;\r\n\t\t/* 隐藏超出部分 */\r\n\t\ttext-overflow: ellipsis;\r\n\t\t/* 超出部分显示省略号 */\r\n\t\tline-height: 150rpx;\r\n\t\ttext-align: center;\r\n\t\tbox-sizing: border-box;\r\n\t\tfont-size: 30rpx;\r\n\t\tpadding: 0 10rpx;\r\n\t}\r\n\r\n\t.Address {\r\n\t\theight: 150rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\t/* justify-content: space-between; */\r\n\t\talign-items: center;\r\n\t\t/* margin: 0 20rpx; */\r\n\t\t/* padding: 0 20rpx; */\r\n\t\tborder-bottom: 1px solid #ccc;\r\n\t\t/* background-color: red; */\r\n\t}\r\n\r\n\t.Address>text {\r\n\t\theight: 150rpx;\r\n\t\twidth: 200rpx;\r\n\t\tline-height: 150rpx;\r\n\t\ttext-align: left;\r\n\t\tcolor: black;\r\n\t\tfont-size: 28rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\tborder-right: 1px solid #ccc;\r\n\t\t/* background-color: yellow; */\r\n\t}\r\n\r\n\t.save {\r\n\t\tbackground: transparent;\r\n\t\tborder: none;\r\n\t\tcolor: white;\r\n\t\tfont-size: 34rpx;\r\n\t\theight: 80rpx;\r\n\t\tline-height: 80rpx;\r\n\t\ttext-align: center;\r\n\t\tborder-radius: 20 rpx;\r\n\t\tbackground-color: #007aff;\r\n\t\tmargin: auto 10rpx;\r\n\t}\r\n</style>","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index1.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index1.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1727772302669\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}