(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-register-register"],{"21ff":function(r,o,n){"use strict";n.d(o,"b",(function(){return a})),n.d(o,"c",(function(){return t})),n.d(o,"a",(function(){return e}));var e={uniEasyinput:n("b805").default},a=function(){var r=this,o=r.$createElement,n=r._self._c||o;return n("v-uni-view",{staticClass:"container"},[n("v-uni-view",{staticClass:"header"},[r._v("注册")]),n("v-uni-view",{staticClass:"input-group"},[n("uni-easyinput",{attrs:{prefixIcon:"person",placeholder:"请输入手机号码"},on:{input:function(o){arguments[0]=o=r.$handleEvent(o),r.validatePhoneNumber.apply(void 0,arguments)}},model:{value:r.form.username,callback:function(o){r.$set(r.form,"username",o)},expression:"form.username"}}),r.phoneError?n("v-uni-view",{staticClass:"error-message"},[r._v(r._s(r.phoneError))]):r._e()],1),n("v-uni-view",{staticClass:"input-group"},[n("uni-easyinput",{attrs:{type:"password",prefixIcon:"locked",placeholder:"请输入六位密码",maxlength:"6"},on:{input:function(o){arguments[0]=o=r.$handleEvent(o),r.validatePassword("password")}},model:{value:r.form.password,callback:function(o){r.$set(r.form,"password",o)},expression:"form.password"}}),n("v-uni-view",{class:["error-message",{valid:r.passwordValid,invalid:!r.passwordValid&&r.form.password.length>0}]},[r._v(r._s(r.passwordError))])],1),n("v-uni-view",{staticClass:"input-group"},[n("uni-easyinput",{attrs:{type:"password",prefixIcon:"locked",placeholder:"请确认密码",maxlength:"6"},on:{input:function(o){arguments[0]=o=r.$handleEvent(o),r.validatePassword("confirm")}},model:{value:r.form.confirm,callback:function(o){r.$set(r.form,"confirm",o)},expression:"form.confirm"}}),n("v-uni-view",{class:["error-message",{valid:r.confirmPasswordValid,invalid:!r.confirmPasswordValid&&r.form.confirm.length>0}]},[r._v(r._s(r.confirmPasswordError))])],1),n("v-uni-view",{staticClass:"button-group"},[n("v-uni-button",{staticClass:"login-button",on:{click:function(o){arguments[0]=o=r.$handleEvent(o),r.register.apply(void 0,arguments)}}},[r._v("注册")])],1)],1)},t=[]},"2aef":function(r,o,n){"use strict";n.r(o);var e=n("21ff"),a=n("5fa9");for(var t in a)["default"].indexOf(t)<0&&function(r){n.d(o,r,(function(){return a[r]}))}(t);n("5a95");var s=n("828b"),i=Object(s["a"])(a["default"],e["b"],e["c"],!1,null,"1938b5bc",null,!1,e["a"],void 0);o["default"]=i.exports},"5a95":function(r,o,n){"use strict";var e=n("9ad6"),a=n.n(e);a.a},"5fa9":function(r,o,n){"use strict";n.r(o);var e=n("d141"),a=n.n(e);for(var t in e)["default"].indexOf(t)<0&&function(r){n.d(o,r,(function(){return e[r]}))}(t);o["default"]=a.a},"9ad6":function(r,o,n){var e=n("bcfa");e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[r.i,e,""]]),e.locals&&(r.exports=e.locals);var a=n("967d").default;a("1139966e",e,!0,{sourceMap:!1,shadowMode:!1})},bcfa:function(r,o,n){var e=n("c86c");o=e(!1),o.push([r.i,".container[data-v-1938b5bc]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:%?40?%}.header[data-v-1938b5bc]{font-size:%?48?%;margin-bottom:%?40?%}.input-group[data-v-1938b5bc]{width:90%;margin-bottom:%?40?%}.button-group[data-v-1938b5bc]{width:90%;text-align:center}.login-button[data-v-1938b5bc]{width:100%;padding:%?10?%;background-color:#00f;color:#fff;font-size:%?28?%;border:none;border-radius:%?10?%;cursor:pointer}.login-button[data-v-1938b5bc]:active{background-color:#00008b}.error-message[data-v-1938b5bc]{color:red;font-size:%?24?%}.error-message.valid[data-v-1938b5bc]{color:green\n\t/* 正确提示的绿色 */}.error-message.invalid[data-v-1938b5bc]{color:red\n\t/* 错误提示的红色 */}",""]),r.exports=o},d141:function(r,o,n){"use strict";n("6a54");var e=n("f5bd").default;Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var a=e(n("2634")),t=e(n("2fdc"));n("5c47"),n("0506");var s=n("6213"),i={data:function(){return{form:{username:"",password:"",confirm:""},phoneError:"",passwordError:"",confirmPasswordError:"",passwordValid:!1,confirmPasswordValid:!1}},watch:{"form.username":"validatePhoneNumber","form.password":"validatePassword"},methods:{validatePhoneNumber:function(){/^1[3-9]\d{9}$/.test(this.form.username)?this.phoneError="":this.phoneError="请输入正确的11位手机号"},validatePassword:function(r){var o=this;this.$nextTick((function(){"password"===r?0===o.form.password.length?(o.passwordError="密码不能为空",o.passwordValid=!1):6!==o.form.password.length?(o.passwordError="密码必须6位",o.passwordValid=!1):(o.passwordError="密码格式正确",o.passwordValid=!0):"confirm"===r&&(0===o.form.confirm.length?(o.confirmPasswordError="密码不能为空",o.confirmPasswordValid=!1):6!==o.form.confirm.length?(o.confirmPasswordError="密码必须6位",o.confirmPasswordValid=!1):o.form.confirm!==o.form.password?(o.confirmPasswordError="两次密码输入不一致",o.confirmPasswordValid=!1):(o.confirmPasswordError="密码格式正确",o.confirmPasswordValid=!0))}))},register:function(){var r=this;return(0,t.default)((0,a.default)().mark((function o(){var n,e;return(0,a.default)().wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(""!==r.form.username){o.next=3;break}return uni.showToast({title:"请输入手机号码",icon:"none"}),o.abrupt("return");case 3:if(""!==r.form.password){o.next=6;break}return uni.showToast({title:"请输入密码",icon:"none"}),o.abrupt("return");case 6:if(6===r.form.password.length){o.next=9;break}return uni.showToast({icon:"none",title:"密码必须为6位"}),o.abrupt("return");case 9:if(r.form.password===r.form.confirm){o.next=12;break}return uni.showToast({icon:"none",title:"两次密码输入不一致"}),o.abrupt("return");case 12:if(!r.phoneError){o.next=15;break}return uni.showToast({icon:"none",title:r.phoneError}),o.abrupt("return");case 15:return o.prev=15,o.next=18,s.api.register(r.form.username,r.form.password,r.form.confirm);case 18:n=o.sent,200===n.code?(e=n.data,uni.setStorageSync("token",e),uni.showToast({title:"注册成功",icon:"success",duration:2e3}),setTimeout((function(){uni.navigateTo({url:"/pages/login/login"})}),2e3)):uni.showToast({icon:"none",title:n.msg||"注册失败，请重试"}),o.next=26;break;case 22:o.prev=22,o.t0=o["catch"](15),uni.showToast({icon:"none",title:"网络错误，请稍后重试"}),console.error("Registration Error:",o.t0);case 26:case"end":return o.stop()}}),o,null,[[15,22]])})))()}}};o.default=i}}]);