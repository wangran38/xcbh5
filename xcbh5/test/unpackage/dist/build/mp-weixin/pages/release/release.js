(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/release/release"],{"433d":function(e,t,o){"use strict";(function(e,t){var n=o("47a9");o("2864");n(o("3240"));var i=n(o("ba24"));e.__webpack_require_UNI_MP_PLUGIN__=o,t(i.default)}).call(this,o("3223")["default"],o("df3c")["createPage"])},"9c6d":function(e,t,o){"use strict";o.r(t);var n=o("bbee"),i=o.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){o.d(t,e,(function(){return n[e]}))}(a);t["default"]=i.a},ba24:function(e,t,o){"use strict";o.r(t);var n=o("bc73"),i=o("9c6d");for(var a in i)["default"].indexOf(a)<0&&function(e){o.d(t,e,(function(){return i[e]}))}(a);o("ea47");var c=o("828b"),s=Object(c["a"])(i["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);t["default"]=s.exports},bbee:function(e,t,o){"use strict";(function(e){var n=o("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(o("af34")),a=o("6213"),c=o("871e"),s={data:function(){return{goodsname:"",category_id:"",imageUploaded:!1,imglogo:"",categories:[],pickerRange:[],selectedCategoryIndex:0}},onLoad:function(){this.fetchCategories()},methods:{fetchCategories:function(){var t=this;a.api.cglist().then((function(o){if(200===o.code){var n=o.data.listdata.map((function(e){return{id:e.id,content:e.content}}));t.categories=n,t.pickerRange=["请选择分类"].concat((0,i.default)(n.map((function(e){return e.content})))),n.length>0&&(t.category_id=n[0].id)}else e.showToast({title:o.message||"获取分类失败",icon:"none"})})).catch((function(t){console.error(t),e.showToast({title:"获取分类失败",icon:"none"})}))},uploadcuisine:function(){var t=this;e.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(e){var o=e.tempFilePaths;if(o.length>0){console.log(o);var n=(0,c.useUpload)({uploadPath:"/group1/upload",tempFilePaths:o[0]}),i=n.upload;n.request;i().then((function(e){console.log(e),t.imglogo=e,t.isImageSelected=!0,t.imageUploaded=!0}))}}})},onCategoryChange:function(e){var t=e.detail.value;this.selectedCategoryIndex=t,this.category_id=t>0?this.categories[t-1].id:""},submit:function(){var t=this,o=e.getStorageSync("token");o?this.goodsname&&this.category_id?a.api.addgoods(o,{category_id:this.category_id,goodsname:this.goodsname,imglogo:this.imglogo}).then((function(o){200===o.code?(e.showToast({title:"菜品添加成功",icon:"success"}),t.goodsname="",t.category_id="",t.imglogo="",t.imageUploaded=!1):e.showToast({title:o.msg||"添加失败",icon:"none"})})).catch((function(t){console.error(t),e.showToast({title:"添加失败",icon:"none"})})):e.showToast({title:"请填写完整信息",icon:"none"}):e.showToast({title:"用户未登录，请重新登录",icon:"none"})}}};t.default=s}).call(this,o("df3c")["default"])},bc73:function(e,t,o){"use strict";o.d(t,"b",(function(){return i})),o.d(t,"c",(function(){return a})),o.d(t,"a",(function(){return n}));var n={uniIcons:function(){return Promise.all([o.e("common/vendor"),o.e("uni_modules/uni-icons/components/uni-icons/uni-icons")]).then(o.bind(null,"15f4f"))}},i=function(){var e=this.$createElement;this._self._c},a=[]},ea47:function(e,t,o){"use strict";var n=o("ef11"),i=o.n(n);i.a},ef11:function(e,t,o){}},[["433d","common/runtime","common/vendor"]]]);