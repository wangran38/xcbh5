(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/register/register"],{"2aef":function(r,e,o){"use strict";o.r(e);var n=o("e6b5"),t=o("5fa9");for(var a in t)["default"].indexOf(a)<0&&function(r){o.d(e,r,(function(){return t[r]}))}(a);o("36aa");var s=o("828b"),i=Object(s["a"])(t["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);e["default"]=i.exports},"36aa":function(r,e,o){"use strict";var n=o("eabd"),t=o.n(n);t.a},"5fa9":function(r,e,o){"use strict";o.r(e);var n=o("6e06"),t=o.n(n);for(var a in n)["default"].indexOf(a)<0&&function(r){o.d(e,r,(function(){return n[r]}))}(a);e["default"]=t.a},"6e06":function(r,e,o){"use strict";(function(r){var n=o("47a9");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(o("7eb4")),a=n(o("ee10")),s=o("6213"),i={data:function(){return{form:{username:"",password:"",confirm:""},phoneError:"",passwordError:"",confirmPasswordError:"",passwordValid:!1,confirmPasswordValid:!1}},watch:{"form.username":"validatePhoneNumber","form.password":"validatePassword"},methods:{validatePhoneNumber:function(){/^1[3-9]\d{9}$/.test(this.form.username)?this.phoneError="":this.phoneError="请输入正确的11位手机号"},validatePassword:function(r){var e=this;this.$nextTick((function(){"password"===r?0===e.form.password.length?(e.passwordError="密码不能为空",e.passwordValid=!1):6!==e.form.password.length?(e.passwordError="密码必须6位",e.passwordValid=!1):(e.passwordError="密码格式正确",e.passwordValid=!0):"confirm"===r&&(0===e.form.confirm.length?(e.confirmPasswordError="密码不能为空",e.confirmPasswordValid=!1):6!==e.form.confirm.length?(e.confirmPasswordError="密码必须6位",e.confirmPasswordValid=!1):e.form.confirm!==e.form.password?(e.confirmPasswordError="两次密码输入不一致",e.confirmPasswordValid=!1):(e.confirmPasswordError="密码格式正确",e.confirmPasswordValid=!0))}))},register:function(){var e=this;return(0,a.default)(t.default.mark((function o(){var n,a;return t.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(""!==e.form.username){o.next=3;break}return r.showToast({title:"请输入手机号码",icon:"none"}),o.abrupt("return");case 3:if(""!==e.form.password){o.next=6;break}return r.showToast({title:"请输入密码",icon:"none"}),o.abrupt("return");case 6:if(6===e.form.password.length){o.next=9;break}return r.showToast({icon:"none",title:"密码必须为6位"}),o.abrupt("return");case 9:if(e.form.password===e.form.confirm){o.next=12;break}return r.showToast({icon:"none",title:"两次密码输入不一致"}),o.abrupt("return");case 12:if(!e.phoneError){o.next=15;break}return r.showToast({icon:"none",title:e.phoneError}),o.abrupt("return");case 15:return o.prev=15,o.next=18,s.api.register(e.form.username,e.form.password,e.form.confirm);case 18:n=o.sent,200===n.code?(a=n.data,r.setStorageSync("token",a),r.showToast({title:"注册成功",icon:"success",duration:2e3}),setTimeout((function(){r.navigateTo({url:"/pages/login/login"})}),2e3)):r.showToast({icon:"none",title:n.msg||"注册失败，请重试"}),o.next=26;break;case 22:o.prev=22,o.t0=o["catch"](15),r.showToast({icon:"none",title:"网络错误，请稍后重试"}),console.error("Registration Error:",o.t0);case 26:case"end":return o.stop()}}),o,null,[[15,22]])})))()}}};e.default=i}).call(this,o("df3c")["default"])},"93e5":function(r,e,o){"use strict";(function(r,e){var n=o("47a9");o("2864");n(o("3240"));var t=n(o("2aef"));r.__webpack_require_UNI_MP_PLUGIN__=o,e(t.default)}).call(this,o("3223")["default"],o("df3c")["createPage"])},e6b5:function(r,e,o){"use strict";o.d(e,"b",(function(){return t})),o.d(e,"c",(function(){return a})),o.d(e,"a",(function(){return n}));var n={uniEasyinput:function(){return o.e("uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput").then(o.bind(null,"b805"))}},t=function(){var r=this.$createElement,e=(this._self._c,!this.passwordValid&&this.form.password.length>0),o=!this.confirmPasswordValid&&this.form.confirm.length>0;this.$mp.data=Object.assign({},{$root:{g0:e,g1:o}})},a=[]},eabd:function(r,e,o){}},[["93e5","common/runtime","common/vendor"]]]);